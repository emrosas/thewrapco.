---
// Component Import
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon/components'
import Navlinks from './Navlinks.astro'
// Image Imports
import logo from '../assets/navbar/logo-horizontal.svg'
import andCoffee from '../assets/navbar/and-coffee.svg'
import wrapBg from '../assets/navbar/wrap-bg.png'
---

<!-- GSAP animation script -->
<script src="../menuOpenAnimation.js"></script>
<script>
	document.addEventListener('astro:page-load', () => {
		const links = document.querySelectorAll('a')
		links.forEach((link) => {
			if (link.href === window.location.href) {
				link.classList.add('opacity-100', 'underline')
				link.classList.remove('opacity-80')
			}
		})
	})
</script>

<div
	id="nav-container"
	class="fixed left-0 right-0 top-0 z-50 w-full px-page-mobile pt-4 md:px-page-tablet lg:px-page"
>
	<nav
		class="relative z-50 flex w-full items-center justify-between rounded-full bg-dark-2 px-page-mobile py-2 sm:grid sm:grid-cols-1 sm:py-4 md:px-page-tablet lg:px-page"
	>
		<div
			class="inset-0 col-span-1 col-start-1 row-start-1 hidden w-full flex-col items-center justify-center pb-4 opacity-100 sm:flex sm:flex-row sm:justify-between sm:pb-0"
			id="nav-menu"
		>
			<ul
				class="flex scale-150 flex-col items-center gap-6 text-light-1 sm:scale-100 sm:flex-row sm:gap-3 lg:gap-6"
			>
				<li>
					<Navlinks href="/" text="Inicio" />
				</li>
				<li>
					<Navlinks href="/menu/wraps/" text="MenÃº" />
				</li>
				<li>
					<Navlinks href="#contacto" text="Contacto" />
				</li>
			</ul>
			<ul
				class="absolute bottom-8 flex scale-125 items-center justify-end gap-6 sm:relative sm:bottom-0 sm:scale-100 sm:gap-3 lg:gap-6"
			>
				<li
					class="rounded-full border-2 border-brand-2 border-opacity-0 p-1 hover:border-opacity-100"
				>
					<a
						href="/"
						class="flex items-center justify-center rounded-full bg-light-1 p-1 opacity-80 hover:opacity-100"
						><Icon name={'socials/instagram'} /></a
					>
				</li>
				<li
					class="rounded-full border-2 border-brand-2 border-opacity-0 p-1 hover:border-opacity-100"
				>
					<a
						href="/"
						class="flex items-center justify-center rounded-full bg-light-1 p-1 opacity-80 hover:opacity-100"
						><Icon name={'socials/facebook'} /></a
					>
				</li>
				<li
					class="rounded-full border-2 border-brand-2 border-opacity-0 p-1 hover:border-opacity-100"
				>
					<a
						href="/"
						class="flex items-center justify-center rounded-full bg-light-1 p-1 opacity-80 hover:opacity-100"
						><Icon name={'socials/tiktok'} /></a
					>
				</li>
			</ul>
			<Image
				src={wrapBg}
				alt="The company icon as a subtle hint in the background"
				class="absolute inset-0 h-full w-full object-cover sm:hidden"
			/>
		</div>

		<div
			class="pointer-events-none flex flex-shrink items-start justify-start sm:col-span-1 sm:col-start-1 sm:row-start-1 sm:items-center sm:justify-center"
		>
			<a
				class="max-w-1/5 pointer-events-auto relative flex flex-shrink justify-start sm:justify-center"
				href="/"
			>
				<Image src={logo} alt="Company Logo" class={'h-6 sm:h-10 w-full'} />
				<Image
					src={andCoffee}
					alt="Company Slogan"
					class={'absolute sm:-bottom-7 -bottom-4 h-3 sm:h-6 '}
				/>
			</a>
		</div>
		<lottie-player
			class="h-8 w-8 cursor-pointer sm:hidden"
			id="menu-button"
			src="/images/twc-menu-open.json"
			background="transparent"
			speed="2.5"></lottie-player>
	</nav>
	<div id="menu-overlay" class="fixed inset-0 z-30 hidden bg-black opacity-0"></div>
</div>
